# TryHackMe: IODR

IODR (Insecure Direct Object Reference) is a type of access control vulnerability. This type of vulnerability can occur when a web server
receives user-supplied input to retrieve objects (files, data, documents), too much trust has been placed on the input data, 
and it is not validated on the server-side to confirm the requested object belongs to the user requesting it.

### Finding IODRs in Encoded IDs

To pass data from page to page web developers will encode it so that the receiving webserver can understand the contents send. Encoding 
changes bindary data into 
ASCII string. The most common oneis base64 encoding. Common way to encode and decode is to use websites https://www.base64encode.org/ and 
https://www.base64decode.org/ respectively. 

### Finding IDORs in Hashed IDs

Hashed IDs are the combination of strings and numbers with fixed length generated from digital file or message. One of the way is to use webservice 
https://crackstation.net/. 

### Where are they located?

- It could be content of a browser loading via AJAX request or from a JavaScript file.

### A Practical IODR Example

Begin by pressing the Start Machine button; once started, click the below link and open it in a new browser tab:

https://ip-of-the-machine.reverse-proxy.cell-prod-eu-west-1c.vm.tryhackme.com

Firstly you'll need to log in. To do this, click on the customer's section and create an account. Once logged in, click on the Your Account tab. 
The Your Account section gives you the ability to change your information such as username, email address and password. You'll notice the username 
and email fields pre-filled in with your information.  
We'll start by investigating how this information gets pre-filled. If you open your browser developer tools, select the network tab and 
then refresh the page, you'll see a call to an endpoint with the path /api/v1/customer?id={user_id}.
This page returns in JSON format your user id, username and email address. We can see from the path that the user information shown is taken
from the query string's id parameter (see below image).
You can try testing this id parameter for an IDOR vulnerability by changing the id to another user's id. Try selecting users with IDs 1 and 3 
and then answer the questions below.

- Creating an account and logging in.
  
<img width="814" height="396" alt="image" src="https://github.com/user-attachments/assets/eb976296-a967-4203-a226-898cdfd18669" />

- Clicking "Your account tab" and inspeting browser developer tools to inspect the pre-filled information after login.

- selecting the network tab and refreshing the page, i saw a call to an endpoint with the path /api/v1/customer?id={user_id} as below:

<img width="1905" height="137" alt="image" src="https://github.com/user-attachments/assets/eff0a3ec-1e73-424e-91c2-03df99f1256e" />

Q) What is the username for user id 1?

click on customer?id=50 shownin image above, it will redirect to another page. 

<img width="389" height="74" alt="image" src="https://github.com/user-attachments/assets/e505a5cc-4405-4235-8447-3421b3411af3" />

now change the id number from 50 to 1

<img width="377" height="106" alt="Screenshot 2025-11-28 190940" src="https://github.com/user-attachments/assets/cd69ba7a-ebb9-42ac-90b0-6bace9817150" />


= adam84

Q) What is the email address for user id 3?

=


